/******************************************************************************
 * Hilmar Preusse: 250408 (hille42@web.de)
 *               Use <stdbool.h> instead of declaring bool, to placate C23.
 * Takuji Tanaka: 20160305 (ttk@t-lab.opal.ne.jp)
 *               Version 6.0.0
 *               Supported T1,TS1,OT2,T2A,T2B,T2C,X2 encodings.
 *               Added utf8 output for the latin, cyrillic encodings and
 *               OML,OMS encodings.
 *               Added option -C not to compose a combining character sequence.
 * Takuji Tanaka: 20111119 (KXD02663@nifty.ne.jp)
 *               Used ptexenc library for Japanese TeX.
 *               Enabled UTF8 output for Japanese TeX with option -Eu.
 *               Added upTeX DVI support with option -U.
 *               Added auto detected Japanese fonts in japanese-otf package.
 * Marcel Mol: 20101113  (marcel@mesa.nl)
 *               Version 5.3.4
 *               Fix VERSION code
 *               From TeXLive:
 *               - DEFPAGER form /bin/more to more
 *               - kapthsea: fix bbug to handle input filenames without ".dvi".
 *               - kpathsea - use library function instead of duplicated code.
 *               - man page fixes
 *               - const char fixes
 * Marcel Mol: 20101030  (marcel@mesa.nl)
 *               Version 5.3.3
 *               included patches from TexLive and Joerg Prante, and Kenshi Muto
 *               minor cleanup/readability changes: note changes to -J -u -s options
 * Kenshi Muto: 25 Nov, 1999
 *               Add auto detect patch.
 *               Fix NTT JTeX DVI japanese patch.
 *               Add ASCII pTeX DVI japanese patch.
 * From TexLive distribution: october 2010
 *               'KPATHSEA' support
 *               Fix linspacing calculation bug
 *               Fix compile time warnings/cosmetics
 * Joerg Prante: 30nov2003 (prante@hbz-nrw.de)
 *               latin1 character handling with option '-u' using code by
 *               Simo Nikula (nikula@lut.fi)
 *               Thomas Sefzick (t.sefzick@fz-juelich.de)
 *               Updated help text according to latin1 patch.
 *               NOTE: this patch changes -u and -s option meanings!
 * Marcel Mol: 22jan2003  (Internet: marcel@mesa.nl)
 *		 From: jose@monkey.org: clearly state license (GPL).
 * Marcel Mol: 27may1996  (Internet: marcel@mesa.nl)
 *               From: mlemos@ua.pt (Manuel Lemos): Port to AMIGA.
 * Marcel Mol: 24mar1996  (Internet: marcel@mesa.nl)
 *               From: Alex Viskovatoff <av@mixcom.com>: Port to Macintosh
 *               From: Anton vd Repe  1995-6-9     (UUCP: arp@neabbs.uucp):
 *               Added option to skip translation of Scandinavian/Finnish
 *               and skip the constraint to ASCII characters only.
 *               Added option to include font name in output when new font
 *               is chosen.
 *               Limit line width of 132 expanded to 332.
 * Marcel Mol: 23jun1995  (Internet: marcel@duteca.et.tudelft.nl)
 *               Included patch form Hideki ISOZAKI (isozaki@ntt-20.ntt.jp)
 *               to allow japanese fonts generated by NTT JTeX (March 1992).
 *               Added cleanups (protoize + includes) by D.U. Zoller
 *               (1995-07-17 duz@roxi.rz.fht-mannheim.de)
 *               Version 5.1
 * Marcel Mol: 09sep1993  (Internet: marcel@duteca.et.tudelft.nl)
 *               In dvistuff.c: added auto detection for 'ttfont'.
 *               This make -t flag unneeded, but it is still left in for 
 *               people who like to force 'verbatim' mode.
 *               Thanks to: Diomidis Spinellis <dds@doc.imperial.ac.uk>
 * Marcel Mol: 05sep1993  (Internet: marcel@duteca.et.tudelft.nl)
 *               In dvistuff.c: put some extra chars arround the 'ttfont'
 *               flag in the 'normchar' function.
 * Marcel Mol: 01oct1991  (Internet: marcel@duteca.et.tudelft.nl)
 *               (From Igor Romanenko, igor@d245.icyb.kiev.ua.)
 *               Fixed unneccesary * in *envp++.
 * Marcel Mol: 24jul1991  (Internet: marcel@duteca.et.tudelft.nl)
 *               Suggestion From: peter@julian.uwo.ca   [uwo]
 *               vertical bars "|" and the tilde "~" print properly in
 *               typewriter font.
 * Marcel Mol: 1990-11-29  (UUCP: marcel@duteca.et.tudelft.nl)
 *               Fixed bug in option handling. Cleanup of code.
 *               Other minor changes/optimizations.
 * Marcel Mol: 1990-11-13  (UUCP: marcel@duteca.et.tudelft.nl)
 *               Included patches of Bernard Gaulle in my version.
 *               Version 4.4
 * Bernard Gaulle: 1990-10-16 (gaulle@murnau.circe.fr)
 *               Add -t option (assuming tt fonts were used)
 *               (Version 3.3)
 * Marcel Mol: 1990-05-03  (UUCP: marcel@duteca.tudelft.nl)
 *               Now displays accents etc. on characters again. Added option 
 *               (-a) to switch this off. If switched off it now uses proper
 *               spacing.
 *               Cleaned up and show version number in usage();
 *               Version 4.3
 * Marcel Mol: 1990-05-02  (UUCP: marcel@duteca.tudelft.nl)
 *               Included patches for VAX/VMS VAXC, done by Robert Schneider.
 *               Version 4.2
 * Marcel Mol: 1990-03-27  (UUCP: marcel@duteca.tudelft.nl)
 *               Fixed bug that causes the program to hang when it finds a
 *               fontname with an 's' in it not followed by an 'y'.
 *               Thanks to Paul Orgren (orgren@Stars.Reston.Unisys.COM).
 *               Version 4.1
 * Marcel Mol: 1990-02-04  (UUCP: marcel@duteca.tudelft.nl)
 *               First attempt to recognize symbol fonts, so bullets (in
 *               itemized lists) are translated to a proper character instead
 *               an awfull ligature.
 *               Version 4.0.
 * Marcel Mol: 1990-02-01  (UUCP: marcel@duteca.tudelft.nl)
 *               Included port to VMS (off Joseph Vasallo and Seppo Rantala)
 *               into latest version. Hope things still work, cannot test it ...
 * Joseph Vasallo & Seppo Rantala: 1989-09-05 (Internet: rantala@tut.FI)
 *		 Ported to work under VAX/VMS V4.4 & VAXC V2.4 or higher.
 *		 Fixed bugs in using Swedish/Finnish characters.
 * Marcel Mol: 1989-02-14  (UUCP: duteca!marcel)
 *               Fixed check for .dvi extension.
 *               Allowed more ligatures.
 *               Fixed side effect bugs (2 gets as function arguments).
 *               Version 3.2.
 * Marcel Mol: 1989-01-19  (UUCP: duteca!marcel)
 *               Changed in option handling, no change
 *               in user interface (only the undocumented 
 *               feature -e).
 *               Version 3.1.
 * Marcel Mol: 1989-01-11  (UUCP: duteca!marcel)
 *               Changed some longs to ints.
 *               It now also runs on MSDOS Microsoft C 5.1
 *               New version: 3.0
 * Marcel Mol: 1989-01-03  (UUCP: duteca!marcel)
 *               Fixed a bugs concerning pager programs
 *               and scanning environment variable DVI2TTY.
 * Marcel Mol: 1988-10-25  (UUCP: duteca!marcel)
 *               Renamed to dvi2tty and converted to C.
 *               Filenames: dvi2tty.c dvi2tty.h dvistuff.c commands.h
 *               Improved spacing between words/characters.
 * bogart:/usr/alla/zap/dvitty/dvitty.p  1986-08-15 20:24:31,
 *               Version to be sent to mod.sources ready.
 * New option since last version:
 *   -Fprog      Pipe output to prog. Can be used to get a different
 *               pager than the default.
 * bogart:/usr/alla/zap/dvitty/dvitty.p  1986-01-13 21:49:31,
 *   Environment variable DVITTY is read and options can be set from it.
 * bogart:/usr/alla/zap/dvitty/dvitty.p  1986-01-10 18:51:03,
 *   Argument parsing, and random access functions (external, in C)
 *   and other OS-dependent stuff (in C). Removed private 'pager' &
 *   tries to pipe through PAGER (environment var) or, if PAGER not
 *   defined, /usr/ucb/more. Some changes for efficency.
 * bogart:/usr/alla/svante/dvitty/dvitty.p  1985-07-15 20:51:00,
 *   The code for processing dvi-files running on UNIX (UCB-Pascal)
 *   but no argument parsing.
 * VERA::SS:<SVANTE-LINDAHL.WORK>DVITTY.PAS.140, 30-Mar-85 05:43:56,
 *   Edit: Svante Lindahl
 * VERA::SS:<SVANTE-LINDAHL.WORK>DVITTY.PAS.136, 15-Jan-85 13:52:59,
 *   Edit: Svante Lindahl, final Twenex version !!!??
 * VERA::SS:<SVANTE-LINDAHL.WORK>DVITTY.PAS.121, 14-Jan-85 03:10:22,
 *   Edit: Svante Lindahl, cleaned up and fixed a lot of little things
 * VERA::SS:<SVANTE-LINDAHL.WORK>DVITTY.PAS.25, 15-Dec-84 05:29:56,
 *   Edit: Svante Lindahl, COMND-interface, including command line scanning
 * VERA::SS:<SVANTE-LINDAHL.WORK>DVITTY.PAS.23, 10-Dec-84 21:24:41,
 *   Edit: Svante Lindahl, added command line scanning with Rscan-JSYS
 * VERA::<SVANTE-LINDAHL.DVITTY>DVITTY.PAS.48,  8-Oct-84 13:26:30,
 *  Edit: Svante Lindahl, fixed switch-parsing, destroyed by earlier patches
 * VERA::<SVANTE-LINDAHL.DVITTY>DVITTY.PAS.45, 29-Sep-84 18:29:53,
 *  Edit: Svante Lindahl
 *
 * dvitty - get an ascii representation of a dvi-file, suitable for ttys
 */

